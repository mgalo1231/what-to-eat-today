# 今天吃什么 🍳

一款帮助家庭规划每日美食的 PWA 应用。

## 功能特点

- 📖 **菜谱管理** - 添加、编辑、搜索菜谱
- 🥬 **库存管理** - 记录家里的食材和保质期
- 🛒 **购物清单** - 根据菜谱自动生成购物清单
- 🎲 **今日推荐** - 根据时间和标签智能推荐菜品
- 💡 **发现新菜** - 探索新菜谱，一键添加到收藏
- 👨‍👩‍👧 **家庭共享** - 和家人共享菜谱、库存和购物清单
- 📱 **PWA 支持** - 可添加到主屏幕，离线使用

## 家庭共享功能

### 创建家庭

1. 登录后进入"我的"页面
2. 点击"创建新家庭"
3. 输入家庭名称（如"我的家"）
4. 创建成功后，系统会生成一个 8 位邀请码

### 邀请成员

1. 在"当前家庭"卡片中查看邀请码（大字体显示）
2. 点击"分享"按钮，使用系统分享功能发送给家人
3. 或点击"复制"按钮，手动发送邀请码

### 加入家庭

1. 收到邀请码后，进入"我的"页面
2. 点击"通过邀请码加入"
3. 输入 8 位邀请码（自动转换为小写，去除空格）
4. 点击"加入"即可成为家庭成员

### 切换家庭

- 如果你加入了多个家庭，可以在"切换家庭"区域快速切换
- 切换后，菜谱、库存、购物清单会自动同步到新家庭

### 数据同步

- 所有家庭成员共享同一份菜谱、库存和购物清单
- 数据实时同步到云端（Supabase）
- 支持离线使用，联网后自动同步

## 技术栈

- React 19 + TypeScript
- Vite + PWA
- Tailwind CSS
- Dexie.js (IndexedDB)
- Supabase (认证 + 云同步)

## 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 环境变量

创建 `.env.local` 文件：

```env
VITE_SUPABASE_URL=你的Supabase项目URL
VITE_SUPABASE_ANON_KEY=你的Supabase匿名Key
VITE_SUPABASE_SCHEMA=public
```

**注意**：
- 默认使用 `public` schema（如果使用 `menuapp` schema，请修改为 `menuapp`）
- 执行 SQL 建表脚本前，请确认使用的 schema（参考 `SUPABASE.md`）

## 部署

推荐使用 Vercel 部署，记得在 Vercel 中配置环境变量。
